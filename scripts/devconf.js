(()=>{"use strict";"undefined"==typeof fetch&&alert("Oh no ðŸ˜¢ We don't support your web browser. Please upgrade to a newer version!");var e,t,n,r,i,a,o,s,c,l,u,d,p,f,m,g=document.getElementById("agenda");if(g){var v=g.getAttribute("data-event-id");v&&(e=v,r=function(e){return document.getElementById(e).cloneNode(!0).content},i=function(e){return t.speakers.filter((function(t){return e.indexOf(t.id)>=0}))},a=function(e){var t=i(e).map((function(e){return e.fullName}));return 1===t.length?t[0]:t.filter((function(e,n){return n<t.length-1})).join(", ")+" & "+t[t.length-1]},o=function(e){var t=i(e).map((function(e){return e.profilePicture}));return 1===t.length?[]:t.slice(1)},s=function(e){return i(e)[0]},c=function(){document.querySelector("div.popupBackdrop").classList.add("popupBackdropHidden"),document.removeEventListener("keydown",l)},l=function(e){"Escape"===e.key&&c()},u=function(e,t,n){e.querySelector(t).innerHTML=n},d=function(){document.querySelector("div.popupClose").onclick=function(e){c()};var e=document.querySelector("div.popupBackdropHidden");e.addEventListener("click",c),document.querySelectorAll(".agenda-session").forEach((function(t){var c=t,d=t.attributes["data-slot-id"].value;d&&"0"!==d?(c.classList.add("clickable-session"),c.onclick=function(t){var d=c.attributes["data-slot-id"].value,f=p(d);e.classList.remove("popupBackdropHidden"),document.addEventListener("keydown",l);var m=document.querySelector("div.popupContent");m.querySelectorAll("div.popupBio").forEach((function(e){m.removeChild(e)}));var g,v=s(f.speakers),b=(g=[],v.links.forEach((function(e){var t=document.createElement("a");t.target="_blank",t.href=e.url;var n=document.createElement("img");switch(n.alt=e.title,e.title){case"Twitter":n.src="/public/images/icons8-twitter-50.png";break;case"LinkedIn":n.src="/public/images/icons8-linkedin-50.png";break;case"Blog":n.src="/public/images/icons8-website-50.png";break;default:n.src="/public/images/icons8-external-link-50.png"}t.appendChild(n),g.push(t)})),g),k=r("popupBioContent").firstElementChild,h=k.querySelector("img.largePopupImage");h.src=v.profilePicture;var y=o(f.speakers);y.length>0&&h.setAttribute("x-altImage",y[0]),u(k,"div.bio-speaker",a(f.speakers));var E=k.querySelector("div.bio-social");b.forEach((function(e){E.appendChild(e)}));var w,S,A,q=(w=f.speakers,1===(S=i(w).map((function(e){return e.bio}))).length?S[0]:S.join(" <br/> "));u(k,"div.bio-tagline",v.tagLine),u(k,"div.bio-title",f.title),u(k,"div.bio-talk-description",f.description),u(k,"div.bio-speaker-bio",q),u(k,"div.bio-track","Track: "+((A=f.categoryItems.filter((function(e){return n.map((function(e){return e.id})).indexOf(e)>-1}))[0])?n.filter((function(e){return e.id===A}))[0].name:"")),m.insertAdjacentElement("beforeend",k)}):c.classList.add("unclickable-session")}))},p=function(e){return t.sessions.filter((function(t){return t.id===e}))[0]},f=function(e){t=e,n=e.categories.filter((function(e){return"Track"===e.title}))[0].items,document.querySelectorAll(".agenda-session").forEach((function(e,t){var n=e,i=n.attributes["data-slot-id"].value,c="true"===n.attributes["data-remote"].value,l=p(i);if(l)r("sessionCardTemplate").querySelectorAll("div").forEach((function(e){switch(e.className){case"agenda-session-image":var t=document.createElement("img");t.src=(i=l.speakers,s(i).profilePicture);var r=o(l.speakers);r.length>0&&t.setAttribute("x-altImage",r[0]),t.classList.add("speaker-image"),e.appendChild(t);break;case"agenda-session-name":e.innerText=a(l.speakers);break;case"agenda-session-title":e.innerText=l.title;break;case"agenda-session-remote":c&&(e.style.display="block")}var i;n.insertAdjacentElement("beforeend",e)}));else{var u=r("tbaCardTemplate").querySelector("div");n.insertAdjacentElement("beforeend",u)}})),d(),document.querySelectorAll(".agenda-row-style-loading").forEach((function(e){e.style.display="none"})),document.querySelectorAll(".agenda > .hidden-row").forEach((function(e){e.style.display="grid"}))},m=function(){var t=window.sessionStorage.getItem("event"+e);if(t){var n=JSON.parse(t);f(n)}else alert("Oh no! Something has gone horribly wrong. Please reload your browser and try again.")},navigator.onLine?fetch("https://sessionize.com/api/v2/"+e+"/view/all").then((function(t){switch(t.status){case 200:t.json().then((function(e){return e})).then((function(t){window.sessionStorage.setItem("event"+e,JSON.stringify(t)),f(t)}));break;case 304:m()}})):m(),setInterval((function(){Array.from(document.getElementsByTagName("img")).filter((function(e){return null!==e.getAttribute("x-altImage")})).forEach((function(e){var t=e.src;e.src=e.getAttribute("x-altImage"),e.setAttribute("x-altImage",t)}))}),2500))}})();